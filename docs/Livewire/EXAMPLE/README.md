## Livewire 功能規格書範例 1.0.0

### 專案目標

建立一個互動式的待辦事項列表（Todo List），讓使用者可以新增、檢視、標示完成與刪除待辦事項。所有操作都應即時反應在畫面上，無需重新整理頁面。

### 頁面需求

#### 待辦事項主頁面

*   顯示一個輸入框，讓使用者可以輸入新的待辦事項文字。
*   一個「新增」按鈕，用於提交新的待辦事項。
*   顯示所有待辦事項的列表。
*   每個待辦事項旁邊應有一個核取方塊（Checkbox），用於標示該事項是否完成。
*   每個待辦事項旁邊應有一個「刪除」按鈕。
*   已完成的待辦事項應有明顯的視覺區別（例如：劃上刪除線）。

### 功能規則與流程

| 項目   | 規則                                  |
|------|-------------------------------------|
| 新增事項 | 使用者在輸入框填寫文字後，點擊「新增」按鈕，該事項應出現在列表最下方。 |
| 標示完成 | 使用者點擊核取方塊，該事項的完成狀態應立即切換。            |
| 刪除事項 | 使用者點擊「刪除」按鈕，該事項應從列表中移除。             |
| 狀態保存 | 所有變更都應即時寫入資料庫。                      |
| 驗證   | 新增待辦事項時，內容不可為空。                     |

---

### 資料庫設計

建立一張 `todos` 資料表，欄位如下：

| 欄位名稱           | 型別            | 說明               |
|----------------|---------------|------------------|
| `id`           | `bigint`      | 主鍵，自動遞增          |
| `task`         | `string(255)` | 待辦事項的內容          |
| `is_completed` | `boolean`     | 是否完成，預設為 `false` |
| `created_at`   | `timestamp`   | 建立時間             |
| `updated_at`   | `timestamp`   | 更新時間             |

### 實作建議結構

#### Livewire Component：`TodoList.php`

| 類型 | 名稱                | 描述                           |
|----|-------------------|------------------------------|
| 屬性 | `$todos`          | `Collection`，儲存所有待辦事項的集合。    |
| 屬性 | `$newTask`        | `string`，綁定新增待辦事項的輸入框。       |
| 方法 | `mount()`         | 初始化時，載入所有未完成的待辦事項。           |
| 方法 | `addTask()`       | 新增一個待辦事項，並在成功後清空 `$newTask`。 |
| 方法 | `toggleTodo($id)` | 根據傳入的 ID 切換待辦事項的完成狀態。        |
| 方法 | `deleteTodo($id)` | 根據傳入的 ID 刪除一個待辦事項。           |

#### Blade Template：`todo-list.blade.php`

*   使用 `<form wire:submit.prevent="addTask">` 包裹輸入框與新增按鈕。
*   使用 `wire:model="newTask"` 綁定輸入框。
*   使用 `@foreach` 迴圈渲染 `$todos` 集合來顯示列表。
*   每個事項的核取方塊綁定 `wire:click="toggleTodo({{ $todo->id }})"`。
*   每個事項的刪除按鈕綁定 `wire:click="deleteTodo({{ $todo->id }})"` 並加上 `wire:confirm` 提示。
*   使用 `@error` 指令顯示驗證錯誤訊息。

### 驗收條件

- [ ] 頁面能正確顯示 Livewire 元件。
- [ ] 能夠成功新增待辦事項到資料庫與畫面。
- [ ] 輸入框為空時，點擊新增會顯示錯誤訊息。
- [ ] 能夠標示／取消標示待辦事項為完成，狀態會同步更新至資料庫。
- [ ] 能夠從資料庫與畫面中刪除待辦事項。
- [ ] 所有操作皆在不刷新頁面的情況下完成。
